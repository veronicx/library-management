webpackJsonp([1],{"4inX":function(e,t){},"9M+g":function(e,t){},"9XfX":function(e,t){},"AMG+":function(e,t){},JjJ3:function(e,t){},Jmt5:function(e,t){},JrdZ:function(e,t){},L37I:function(e,t){},MD4p:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};s.d(a,"getUser",function(){return He}),s.d(a,"getUsers",function(){return Xe});var r={};s.d(r,"signUp",function(){return Ge}),s.d(r,"editProfile",function(){return Qe}),s.d(r,"get_profile",function(){return Ze}),s.d(r,"signIn",function(){return Ke}),s.d(r,"signOut",function(){return et}),s.d(r,"getUsers",function(){return tt}),s.d(r,"authenticateUser",function(){return st});var o={};s.d(o,"storeUser",function(){return at}),s.d(o,"removeUser",function(){return rt}),s.d(o,"storeUsers",function(){return ot});var i={};s.d(i,"getBook",function(){return nt}),s.d(i,"getBooks",function(){return lt});var n={};s.d(n,"createBook",function(){return ct}),s.d(n,"getBooks",function(){return ut}),s.d(n,"updateBook",function(){return dt}),s.d(n,"getBook",function(){return mt});var l={};s.d(l,"storeBook",function(){return vt}),s.d(l,"storeBooks",function(){return pt});var c=s("7+uW"),u=s("//Fk"),d=s.n(u),m=s("mtWM"),v=s.n(m),p=s("Dd8w"),f=s.n(p),h=s("NYxO"),b={name:"Navbar",computed:f()({},Object(h.c)({user:"getUser"})),mounted:function(){console.log("test",this.user)},methods:f()({},Object(h.b)({signOut:"signOut"}),{out:function(){this.signOut(),this.$nextTick(function(){window.location.replace("#/signin")})}})},g={render:function(){this.$createElement;this._self._c;return this._m(4)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#"}},[this._v("Features")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#"}},[this._v("Pricing")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"nav-item navbar-nav ml-auto"},[t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#/signin"}},[this._v("SignIn")])]),this._v(" "),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#/signup"}},[this._v("SignUp")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"navbar_container"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#/"}},[e._v("eLibrary")]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:{path:"/users"}}},[e._v("Users")])],1),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e.user.authenticated?s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n            Books\n        ")]),e._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[s("router-link",{staticClass:"dropdown-item",attrs:{to:{path:"/books/listing"}}},[e._v("Listing")]),e._v(" "),e.user.data.isAdmin?s("router-link",{staticClass:"dropdown-item",attrs:{to:{path:"/books/create"}}},[e._v("Insert Book")]):e._e()],1)]):e._e(),e._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/categories"}},[e._v("Categories")])],1),e._v(" "),e.user.authenticated&&e.user.data.isAdmin?s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n            Settings\n        ")]),e._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[e.user.data.isAdmin?s("router-link",{staticClass:"dropdown-item",attrs:{to:{path:"/userTypes"}}},[e._v("User Types")]):e._e()],1)]):e._e(),e._v(" "),e.user.authenticated?s("li",{staticClass:"nav-item active"},[e.user.data.isAdmin?s("router-link",{staticClass:"nav-link",attrs:{to:{path:"/messages"}}},[e._v("Messages")]):s("router-link",{staticClass:"nav-link",attrs:{to:{path:"/contact-us"}}},[e._v("Contact Us")])],1):e._e()]),e._v(" "),s("ul",{staticClass:"nav-item dropdown navbar-nav ml-auto"},[e.user.authenticated?s("div",[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbardrop","data-toggle":"dropdown"}},[e.user.authenticated?s("b-avatar",{attrs:{variant:"primary",text:e.user.data.name.slice(0,2),size:"2rem"}}):e._e()],1),e._v(" "),s("div",{staticClass:"dropdown-menu mr-1"},[s("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"userprofile",params:{id:e.user.data.id}}}},[e._v("My Profile")]),e._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:e.out}},[e._v("SignOut")])],1)]):s("div",[e._m(3)])])])])])}]};var _=s("VU/8")(b,g,!1,function(e){s("JjJ3")},null,null).exports;v.a.interceptors.request.use(function(e){return e},function(e){return d.a.reject(e)}),v.a.interceptors.response.use(function(e){return e},function(e){return d.a.reject(e)});var w={name:"App",components:{navbar:_}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("navbar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var C=s("VU/8")(w,k,!1,function(e){s("xzJt")},null,null).exports,y=s("/ocq"),x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"book-card",on:{click:e.sendEvent}},[s("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem","min-width":"20rem"},attrs:{title:e.title,"img-src":e.imageUrl,"img-alt":"Image","img-top":"",tag:"article","img-height":"250"}},[s("b-card-text",[e._v("\n      "+e._s(e.description)+"\n    ")]),e._v(" "),s("b-button",{attrs:{href:"#",variant:"primary"}},[e._v("Read More")])],1)],1)},staticRenderFns:[]};var U={name:"Book",components:{book:s("VU/8")({name:"Book",props:["title","description","author","year","imageUrl"],methods:{sendEvent:function(){this.$emit("changePage")}}},x,!1,function(e){s("4inX")},"data-v-22e135c6",null).exports},props:["pageTitle"],methods:f()({},Object(h.b)({getBooks:"getBooks"}),{changePage:function(e){this.$router.push({name:"bookDetails",params:{id:e}})}}),mounted:function(){this.getBooks()},computed:f()({},Object(h.c)({books:"getBooks"}))},B={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users_container container"},[s("h2",{staticClass:"title"},[e._v(e._s(e.pageTitle))]),e._v(" "),s("div",{staticClass:"row"},e._l(e.books,function(t){return s("book",{key:t._id,attrs:{title:t.title,description:t.description,author:t.author,year:t.year,imageUrl:t.imageUrl},on:{changePage:function(s){return e.changePage(t._id)}}})}),1)])},staticRenderFns:[]};var $=s("VU/8")(U,B,!1,function(e){s("AMG+")},"data-v-1d6ba5d0",null).exports,E={name:"Home",components:{books:$},data:function(){return{pageTitle:"Welcome "}},computed:f()({},Object(h.c)({user:"getUser"}))},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home_container container"},[t("books",{attrs:{pageTitle:this.pageTitle+this.user.data.name}})],1)},staticRenderFns:[]},N=s("VU/8")(E,T,!1,null,null,null).exports,I={name:"Signup",data:function(){return{name:null,email:null,password:null,signedIn:null}},methods:f()({},Object(h.b)({signUp:"signUp"}),{create:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.signUp({name:e.name,email:e.email,password:e.password}),!0})}})},R={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.create.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{name:!0,"is-invalid":e.errors.has("name")},attrs:{type:"text",id:"name",name:"name",placeholder:"Enter name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("name")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email|unique",expression:"'required|email|unique'"}],staticClass:"form-control form-control-sm",class:{email:!0,"is-invalid":e.errors.has("email")},attrs:{type:"email",id:"email",name:"email",placeholder:"Enter email address"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("email")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:20|confirmed",expression:"'required|min:6|max:20|confirmed'"}],staticClass:"form-control form-control-sm",class:{password:!0,"is-invalid":e.errors.has("password")},attrs:{type:"password",id:"password",name:"password",placeholder:"Enter password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("password")))])])]),e._v(" "),e._m(1),e._v(" "),e._m(2)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-1"},[this._v("\n                            Sign Up\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"password_confirmation"}},[this._v("Password")]),this._v(" "),t("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[t("input",{staticClass:"form-control form-control-sm",attrs:{type:"password",id:"password_confirmation",name:"password_confirmation",placeholder:"Confirm password"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("SignIn")]),this._v(" "),t("a",{staticClass:"btn btn-link",attrs:{href:"/#/signin"}},[this._v("Already have an account")])])])}]};var A=s("VU/8")(I,R,!1,function(e){s("L37I")},"data-v-1335bd9e",null).exports,P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning_container"},[t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[this._v("\n        "+this._s(this.message)+"\n    ")])])},staticRenderFns:[]},q={components:{Warning:s("VU/8")({name:"Warning",props:["message"]},P,!1,null,null,null).exports},name:"Signin",data:function(){return{email:null,password:null,error:null}},methods:f()({},Object(h.b)({signIn:"signIn"}),{submit:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.signIn({email:e.email,password:e.password}).catch(function(t){e.error="The email or password you entered did not match our records."}),!0})}})},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signin_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[e.error?s("warning",{attrs:{message:e.error}}):e._e(),e._v(" "),s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control form-control-sm",class:{email:!0,"is-invalid":e.errors.has("email")},attrs:{type:"email",id:"email",name:"email",placeholder:"Enter email address"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("email")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-sm",class:{password:!0,"is-invalid":e.errors.has("password")},attrs:{type:"password",id:"password",name:"password",placeholder:"Enter password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("password")))])])]),e._v(" "),e._m(1)])])])])])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-1"},[this._v("\n                            Sign In\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-8 offset-sm-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("SignIn")]),this._v(" "),t("a",{staticClass:"btn btn-link",attrs:{href:"/#/signup"}},[this._v("Create account")])])])}]};var S=s("VU/8")(q,O,!1,function(e){s("QlO3")},"data-v-2de810ef",null).exports,D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user_container"},[s("div",{staticClass:"media"},[e._m(0),e._v(" "),s("div",{staticClass:"media-body"},[s("h6",{staticClass:"media-heading"},[e._v(e._s(e.name))]),e._v(" "),s("span",[e._v(e._s(e.email))])])]),e._v(" "),s("hr")])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"media-left"},[t("img",{staticClass:"media-object",staticStyle:{width:"45px"},attrs:{src:"https://cdn4.iconfinder.com/data/icons/social-messaging-ui-color-squares-01/3/30-512.png"}})])}]};var j={name:"Users",components:{user:s("VU/8")({name:"User",props:["name","email"]},D,!1,function(e){s("ahrW")},null,null).exports},methods:f()({},Object(h.b)({getUsers:"getUsers"})),mounted:function(){this.getUsers()},computed:f()({},Object(h.c)({users:"getUsers"}))},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"users_container container"},[t("h2",{staticClass:"title"},[this._v("Users")]),this._v(" "),this._l(this.users,function(e){return t("user",{key:e._id,attrs:{name:e.name,email:e.email}})})],2)},staticRenderFns:[]};var M=s("VU/8")(j,F,!1,function(e){s("TNPM")},null,null).exports,V=s("Xxa5"),J=s.n(V),L=s("exGp"),W=s.n(L),Y={name:"Listing",data:function(){return{user:JSON.parse(window.localStorage.getItem("user")),toggleButtons:!1,rowId:null,columns:[{label:"Title",field:"title",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"Author",field:"author",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"Description",field:"description",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"Year",field:"year",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"",field:"actions",sortable:!1,width:"50px"}]}},methods:f()({},Object(h.b)({getBooks:"getBooks"}),{onRowClick:function(e){this.user.data.isAdmin&&(this.toggleButtons=!this.toggleButtons,this.rowId=e.row._id)},removeBook:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(console.log("id",e),!window.confirm("Are you sure you want to delete this book?")){s.next=5;break}return s.next=4,v.a.delete("http://localhost:8000/api/books/delete/"+e);case 4:t.toggleButtons=!1;case 5:return s.next=7,t.getBooks();case 7:case"end":return s.stop()}},s,t)}))()}}),mounted:function(){this.getBooks()},computed:{books:function(){return this.$store.state.books.books}}},z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.toggleButtons?s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-9"},[s("router-link",{attrs:{to:{name:"editBook",params:{id:e.rowId}}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Edit Book")])]),e._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(t){return e.removeBook(e.rowId)}}},[e._v("Delete Book")])],1)]):e._e(),e._v(" "),s("vue-good-table",{attrs:{columns:e.columns,rows:e.books,"search-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,perPage:7,perPageDropdown:[5,7,10],dropdownAllowAll:!1}},on:{"on-row-click":e.onRowClick}})],1)},staticRenderFns:[]},H=s("VU/8")(Y,z,!1,null,null,null).exports,X={name:"InsertBook",data:function(){return{bookTitle:null,bookAuthor:null,bookDescription:null,bookYear:null,bookCover:null,imageUrl:null,isbn:null}},methods:f()({},Object(h.b)({createBook:"createBook"}),{setFile:function(e){this.bookCover=e.target.files[0].name},create:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.createBook({title:e.bookTitle,author:e.bookAuthor,description:e.bookDescription,year:e.bookYear,image:e.bookCover,imageUrl:e.imageUrl,isbn:e.isbn}),!0})}})},G={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.create.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"title"}},[e._v("Title")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bookTitle,expression:"bookTitle"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{title:!0,"is-invalid":e.errors.has("title")},attrs:{type:"text",id:"title",name:"title",placeholder:"Enter book title"},domProps:{value:e.bookTitle},on:{input:function(t){t.target.composing||(e.bookTitle=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("title"),expression:"errors.has('title')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("title")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"author"}},[e._v("Author")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bookAuthor,expression:"bookAuthor"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{author:!0,"is-invalid":e.errors.has("author")},attrs:{type:"text",id:"author",name:"author",placeholder:"Enter book author"},domProps:{value:e.bookAuthor},on:{input:function(t){t.target.composing||(e.bookAuthor=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("author"),expression:"errors.has('author')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("author")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"description"}},[e._v("Description")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.bookDescription,expression:"bookDescription"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:150",expression:"'required|min:2|max:150'"}],staticClass:"form-control form-control-sm",class:{description:!0,"is-invalid":e.errors.has("description")},attrs:{type:"text",id:"description",name:"description",placeholder:"Enter book description"},domProps:{value:e.bookDescription},on:{input:function(t){t.target.composing||(e.bookDescription=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("description")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"year"}},[e._v("Year")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bookYear,expression:"bookYear"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:4",expression:"'required|min:2|max:4'"}],staticClass:"form-control form-control-sm",class:{year:!0,"is-invalid":e.errors.has("year")},attrs:{type:"number",id:"year",name:"year",placeholder:"Enter published year"},domProps:{value:e.bookYear},on:{input:function(t){t.target.composing||(e.bookYear=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("year"),expression:"errors.has('year')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("year")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"image"}},[e._v("Cover Image")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{staticClass:"form-control form-control-sm",class:{image:!0,"is-invalid":e.errors.has("image")},attrs:{type:"file",id:"image",name:"bookImage",placeholder:"Chose a book cover"},on:{change:e.setFile}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("image"),expression:"errors.has('image')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("image")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"imageUrl"}},[e._v("Image Url")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.imageUrl,expression:"imageUrl"},{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],staticClass:"form-control form-control-sm",class:{imageUrl:!0,"is-invalid":e.errors.has("imageUrl")},attrs:{type:"text",id:"imageUrl",name:"imageUrl",placeholder:"Or provide an image url"},domProps:{value:e.imageUrl},on:{input:function(t){t.target.composing||(e.imageUrl=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("imageUrl"),expression:"errors.has('imageUrl')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("imageUrl")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"isbn"}},[e._v("ISBN")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isbn,expression:"isbn"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:13",expression:"'required|min:2|max:13'"}],staticClass:"form-control form-control-sm",class:{isbn:!0,"is-invalid":e.errors.has("isbn")},attrs:{type:"number",id:"isbn",name:"isbn",placeholder:"Enter ISBN number..."},domProps:{value:e.isbn},on:{input:function(t){t.target.composing||(e.isbn=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("isbn"),expression:"errors.has('isbn')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("isbn")))])])]),e._v(" "),e._m(1)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-5"},[this._v("\n                            Insert a new book\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Insert Book")])])])}]};var Q=s("VU/8")(X,G,!1,function(e){s("mTVW")},"data-v-6850702b",null).exports,Z={name:"Book Details",data:function(){return{selectedBook:{},reviews:{}}},mounted:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBook(e.bookId);case 2:return s=t.sent,e.selectedBook=s.data,t.next=6,v.a.get("http://localhost:8000/api/reviews/"+s.data._id+"/").then(function(t){e.reviews=t.data});case 6:t.sent;case 7:case"end":return t.stop()}},t,e)}))()},computed:f()({bookId:function(){return this.$route.params.id}},Object(h.c)({user:"getUser"})),methods:f()({},Object(h.b)({updateBook:"updateBook",getBook:"getBook"}))},K={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"leftcolumn"},[s("div",{staticClass:"card"},[s("h2",[e._v(e._s(e.selectedBook.title))]),e._v(" "),s("h5",[e._v(e._s(e.selectedBook.author))]),e._v(" "),s("div",{staticClass:"main-info"},[s("div",{staticClass:"bookImage"},[s("img",{attrs:{src:e.selectedBook.imageUrl,alt:""}})]),e._v(" "),s("div",{staticClass:"book-info"},[s("p",[e._v(e._s(e.selectedBook.description))]),e._v(" "),s("p",[e._v("Year published: "+e._s(e.selectedBook.year))])])])])]),e._v(" "),s("div",{staticClass:"book-details__right-column"},[s("div",{staticClass:"right-column__reviews-container"},[s("b-card",{attrs:{title:"Reviews","sub-title":e.selectedBook.title+" Reviews"}},[e._l(e.reviews,function(t,a){return a<3?s("b-card",{key:a,attrs:{title:t.book,"sub-title":"Reviewed by: "+t.username}},[s("p",[e._v(e._s(t.review))])]):e._e()}),e._v(" "),s("router-link",{staticClass:"card-link",attrs:{to:"/reviews/"+e.selectedBook._id+"/"+e.selectedBook.title+"/"+e.selectedBook.author}},[e._v("Check out Reviews")]),e._v(" "),s("router-link",{attrs:{to:"/review/add/"+e.selectedBook._id+"/"+e.selectedBook.title+"/"+e.selectedBook.author}},[s("b-badge",{attrs:{pill:"",variant:"primary"}},[e._v("Add a review")])],1)],2)],1)])])},staticRenderFns:[]};var ee=s("VU/8")(Z,K,!1,function(e){s("MD4p")},"data-v-2eea0cc3",null).exports,te={data:function(){return{selectedBook:{}}},computed:{bookId:function(){return this.$route.params.id}},mounted:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBook(e.bookId);case 2:s=t.sent,e.selectedBook=s.data;case 4:case"end":return t.stop()}},t,e)}))()},methods:f()({},Object(h.b)({updateBook:"updateBook",getBook:"getBook"}),{setFile:function(e){this.selectedBook.image=e.target.files[0].name},edit:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.updateBook({_id:e.bookId,title:e.selectedBook.title,author:e.selectedBook.author,description:e.selectedBook.description,year:e.selectedBook.year,image:e.selectedBook.image,imageUrl:e.selectedBook.imageUrl,isbn:e.selectedBook.isbn}),!0})}})},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"offset-5"},[e._v("\n                            Edit "+e._s(e.selectedBook.title)+"\n                        ")])])]),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.edit.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"title"}},[e._v("Title")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.title,expression:"selectedBook.title"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{title:!0,"is-invalid":e.errors.has("title")},attrs:{type:"text",id:"title",name:"title",placeholder:"Enter book title"},domProps:{value:e.selectedBook.title},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"title",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("title"),expression:"errors.has('title')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("title")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"author"}},[e._v("Author")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.author,expression:"selectedBook.author"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{author:!0,"is-invalid":e.errors.has("author")},attrs:{type:"text",id:"author",name:"author",placeholder:"Enter book author"},domProps:{value:e.selectedBook.author},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"author",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("author"),expression:"errors.has('author')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("author")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"description"}},[e._v("Description")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.description,expression:"selectedBook.description"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:150",expression:"'required|min:2|max:150'"}],staticClass:"form-control form-control-sm",class:{description:!0,"is-invalid":e.errors.has("description")},attrs:{type:"text",id:"description",name:"description",placeholder:"Enter book description"},domProps:{value:e.selectedBook.description},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"description",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("description")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"year"}},[e._v("Year")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.year,expression:"selectedBook.year"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:4",expression:"'required|min:2|max:4'"}],staticClass:"form-control form-control-sm",class:{year:!0,"is-invalid":e.errors.has("year")},attrs:{type:"number",id:"year",name:"year",placeholder:"Enter published year"},domProps:{value:e.selectedBook.year},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"year",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("year"),expression:"errors.has('year')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("year")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"image"}},[e._v("Cover Image")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{staticClass:"form-control form-control-sm",class:{image:!0,"is-invalid":e.errors.has("image")},attrs:{type:"file",id:"image",name:"bookImage",placeholder:"Chose a book cover"},on:{change:e.setFile}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("image"),expression:"errors.has('image')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("image")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"imageUrl"}},[e._v("Image Url")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.imageUrl,expression:"selectedBook.imageUrl"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:150",expression:"'required|min:2|max:150'"}],staticClass:"form-control form-control-sm",class:{imageUrl:!0,"is-invalid":e.errors.has("imageUrl")},attrs:{type:"text",id:"imageUrl",name:"imageUrl",placeholder:"Or provide an image url"},domProps:{value:e.selectedBook.imageUrl},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"imageUrl",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("imageUrl"),expression:"errors.has('imageUrl')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("imageUrl")))])])]),e._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"isbn"}},[e._v("ISBN")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBook.isbn,expression:"selectedBook.isbn"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:13",expression:"'required|min:2|max:13'"}],staticClass:"form-control form-control-sm",class:{isbn:!0,"is-invalid":e.errors.has("isbn")},attrs:{type:"number",id:"isbn",name:"isbn",placeholder:"Enter ISBN number"},domProps:{value:e.selectedBook.isbn},on:{input:function(t){t.target.composing||e.$set(e.selectedBook,"isbn",t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("isbn"),expression:"errors.has('isbn')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("isbn")))])])]),e._v(" "),e._m(0)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Update Book")])])])}]};var ae=s("VU/8")(te,se,!1,function(e){s("nSDm")},"data-v-6b683a1a",null).exports,re={name:"ContactUs",data:function(){return{messageBody:""}},computed:f()({},Object(h.c)({user:"getUser"})),mounted:function(){this.getUsers()},methods:f()({},Object(h.b)({getUsers:"getUsers"}),{sendMessage:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=W()(J.a.mark(function t(s){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,v.a.post("http://localhost:8000/api/postMessage",{messageBody:e.messageBody,user:e.user.data,senderName:e.user.data});case 3:return e.messageBody=null,t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()}})},oe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.sendMessage.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"message"}},[e._v("Message Body")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageBody,expression:"messageBody"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:350",expression:"'required|min:2|max:350'"}],staticClass:"form-control form-control-sm",class:{message:!0,"is-invalid":e.errors.has("message")},attrs:{rows:"4",cols:"50",type:"text",id:"message",name:"message",placeholder:"Say something..."},domProps:{value:e.messageBody},on:{input:function(t){t.target.composing||(e.messageBody=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("message"),expression:"errors.has('message')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("message")))])])]),e._v(" "),e._m(1)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-5"},[this._v("\n                            Send us a Message!\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Send Message")])])])}]};var ie=s("VU/8")(re,oe,!1,function(e){s("iFdD")},"data-v-8f9d5c2c",null).exports,ne={name:"MessagesList",data:function(){return{messages:[],toggleButtons:!1,rowId:null,columns:[{label:"Sender",field:"senderName",tooltip:"Click on a specific row that you want to edit or delete!",width:"200px"},{label:"Message",field:"messageBody",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"Date Sent",field:"date",tooltip:"Click on a specific row that you want to edit or delete!",width:"100px"},{label:"",field:"actions",sortable:!1,width:"50px"}]}},mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMessages();case 2:case"end":return t.stop()}},t,e)}))()},computed:{allMessages:function(){return this.messages}},methods:f()({},Object(h.b)({getUsers:"getUsers"}),{onRowClick:function(e){this.toggleButtons=!this.toggleButtons,this.rowId=e.row._id},removeMessage:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!window.confirm("Are you sure you want to delete this book?")){s.next=4;break}return s.next=3,v.a.delete("http://localhost:8000/api/messages/delete/"+e);case 3:t.toggleButtons=!1;case 4:return s.next=6,t.getMessages();case 6:case"end":return s.stop()}},s,t)}))()},getMessages:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=W()(J.a.mark(function t(s){var a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,v.a.get("http://localhost:8000/api/messages");case 3:a=t.sent,e.messages=a.data;case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()}})},le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.toggleButtons?s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-9"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(t){return e.removeMessage(e.rowId)}}},[e._v("Delete Message")])])]):e._e(),e._v(" "),s("vue-good-table",{attrs:{columns:e.columns,rows:e.messages,"search-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,perPage:7,perPageDropdown:[5,7,10],dropdownAllowAll:!1}},on:{"on-row-click":e.onRowClick}})],1)},staticRenderFns:[]},ce=s("VU/8")(ne,le,!1,null,null,null).exports,ue={data:function(){return{selectedUser:{}}},computed:f()({userId:function(){return this.$route.params.id}},Object(h.c)({user:"getUser"})),created:function(){console.log(this.userId)},mounted:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_profile(e.userId);case 2:s=t.sent,console.log(e.userId),e.selectedUser=s.data;case 5:case"end":return t.stop()}},t,e)}))()},methods:f()({},Object(h.b)({get_profile:"get_profile"}),{editProfile:function(){this.$router.push({name:"editprofile",params:{id:this.userId}})}})},de={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex justify-content-center align-items-center mb-5"},[s("b-card",{staticStyle:{width:"50%"},attrs:{"bg-variant":"light"}},[s("div",{staticClass:"d-flex justify-content-center align-items-center mb-4"},[e.user.authenticated?s("b-avatar",{attrs:{variant:"primary",text:e.user.data.name.slice(0,2),size:"5rem"}}):e._e()],1),e._v(" "),s("b-form-group",{attrs:{label:"Name: ","label-for":"name","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"name"},model:{value:e.selectedUser.name,callback:function(t){e.$set(e.selectedUser,"name",t)},expression:"selectedUser.name"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Email: ","label-for":"email","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"email"},model:{value:e.selectedUser.email,callback:function(t){e.$set(e.selectedUser,"email",t)},expression:"selectedUser.email"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Bio: ","label-for":"bio","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-textarea",{attrs:{placeholder:"Write something about yourself...",rows:"2","max-rows":"3",id:"bio"},model:{value:e.selectedUser.bio,callback:function(t){e.$set(e.selectedUser,"bio",t)},expression:"selectedUser.bio"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"City: ","label-for":"city","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"city"},model:{value:e.selectedUser.city,callback:function(t){e.$set(e.selectedUser,"city",t)},expression:"selectedUser.city"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Birthday: ","label-for":"birthday","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"birthday",type:"date"},model:{value:e.selectedUser.birthday,callback:function(t){e.$set(e.selectedUser,"birthday",t)},expression:"selectedUser.birthday"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Social: ","label-for":"social","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{staticClass:"mb-2",attrs:{id:"social1"},model:{value:e.selectedUser.social1,callback:function(t){e.$set(e.selectedUser,"social1",t)},expression:"selectedUser.social1"}}),e._v(" "),s("b-form-input",{staticClass:"mb-2",attrs:{id:"social2"},model:{value:e.selectedUser.social2,callback:function(t){e.$set(e.selectedUser,"social2",t)},expression:"selectedUser.social2"}}),e._v(" "),s("b-form-input",{staticClass:"mb-2",attrs:{id:"social3"},model:{value:e.selectedUser.social3,callback:function(t){e.$set(e.selectedUser,"social3",t)},expression:"selectedUser.social3"}})],1),e._v(" "),s("div",{staticClass:"d-flex justify-content-center align-items-start"},[e.user.data.id===e.userId?s("b-button",{attrs:{variant:"primary"},on:{click:e.editProfile}},[e._v("Edit Profile")]):e._e()],1)],1)],1)},staticRenderFns:[]},me=s("VU/8")(ue,de,!1,null,null,null).exports,ve={data:function(){return{active:!0,currentUser:{}}},mounted:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_profile(e.userId);case 2:s=t.sent,e.currentUser=s.data;case 4:case"end":return t.stop()}},t,e)}))()},computed:f()({},Object(h.c)({user:"getUser"}),{userId:function(){return this.$route.params.id}}),methods:f()({},Object(h.b)({editProfile:"editProfile",signOut:"signOut",get_profile:"get_profile"}),{saveProfile:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.editProfile({_id:e.userId,name:e.currentUser.name,email:e.currentUser.email,bio:e.currentUser.bio,city:e.currentUser.city,birthday:e.currentUser.birthday,social1:e.currentUser.social1,social2:e.currentUser.social2,social3:e.currentUser.social3});case 2:return t.next=4,e.getProfile();case 4:case"end":return t.stop()}},t,e)}))()},getProfile:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get_profile(e.userId);case 2:e.$nextTick(function(){this.$router.push({name:"userprofile",params:{id:this.userId}})});case 3:case"end":return t.stop()}},t,e)}))()}})},pe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex justify-content-center align-items-center mb-5"},[s("b-card",{staticStyle:{width:"50%"},attrs:{"bg-variant":"light"}},[s("div",{staticClass:"d-flex justify-content-center align-items-center mb-4"},[e.user.authenticated?s("b-avatar",{attrs:{variant:"primary",text:e.user.data.name.slice(0,2),size:"5rem"}}):e._e()],1),e._v(" "),s("b-form-group",{attrs:{label:"Name: ","label-for":"name","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"name"},model:{value:e.currentUser.name,callback:function(t){e.$set(e.currentUser,"name",t)},expression:"currentUser.name"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Email: ","label-for":"email","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"email"},model:{value:e.currentUser.email,callback:function(t){e.$set(e.currentUser,"email",t)},expression:"currentUser.email"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Bio: ","label-for":"bio","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-textarea",{attrs:{placeholder:"Write something about yourself...",rows:"2","max-rows":"3",id:"bio"},model:{value:e.currentUser.bio,callback:function(t){e.$set(e.currentUser,"bio",t)},expression:"currentUser.bio"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"City: ","label-for":"city","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"city"},model:{value:e.currentUser.city,callback:function(t){e.$set(e.currentUser,"city",t)},expression:"currentUser.city"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Birthday: ","label-for":"birthday","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{attrs:{id:"birthday",type:"date"},model:{value:e.currentUser.birthday,callback:function(t){e.$set(e.currentUser,"birthday",t)},expression:"currentUser.birthday"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Social: ","label-for":"social","label-cols-sm":"2","label-align-sm":"left"}},[s("b-form-input",{staticClass:"mb-2",attrs:{id:"social1"},model:{value:e.currentUser.social1,callback:function(t){e.$set(e.currentUser,"social1",t)},expression:"currentUser.social1"}}),e._v(" "),s("b-form-input",{staticClass:"mb-2",attrs:{id:"social2"},model:{value:e.currentUser.social2,callback:function(t){e.$set(e.currentUser,"social2",t)},expression:"currentUser.social2"}}),e._v(" "),s("b-form-input",{staticClass:"mb-2",attrs:{id:"social3"},model:{value:e.currentUser.social3,callback:function(t){e.$set(e.currentUser,"social3",t)},expression:"currentUser.social3"}})],1),e._v(" "),s("div",{staticClass:"d-flex justify-content-center align-items-center"},[s("b-button",{attrs:{variant:"success"},on:{click:e.saveProfile}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]},fe=s("VU/8")(ve,pe,!1,null,null,null).exports,he={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"404_container"},[t("h1",[this._v("404")])])}]};var be=s("VU/8")({name:"NotFound"},he,!1,function(e){s("fOhe")},"data-v-705c905a",null).exports,ge={name:"AddReview",data:function(){return{review:"",variant:"danger",button:"Cancel"}},props:{default:!0},methods:{validate:function(){this.review.length>=10&&"Clear"===this.button?this.review="":this.review<10&&"Cancel"===this.button&&this.$router.push("/book/"+this.$route.params.id)},submit:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={bookId:e.$route.params.id,book:e.$route.params.book,author:e.$route.params.author,review:e.review,username:e.user.data.name},t.next=3,v.a.post("http://localhost:8000/api/addReview/",s).then(function(t){console.log("response:",t),e.$router.push("/book/"+e.$route.params.id)});case 3:case"end":return t.stop()}},t,e)}))()}},watch:{review:function(){this.review.length>=10?(this.variant="info",this.button="Clear"):this.review.length<=0&&(this.variant="danger",this.button="Cancel")}},computed:f()({},Object(h.c)({user:"getUser"}))},_e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-card",[s("div",{staticClass:"review-add__container"},[s("div",{staticClass:"review-add__info"},[s("h1",[s("b-badge",{attrs:{variant:"light"}},[e._v(e._s(e.$route.params.book)+" by "+e._s(e.$route.params.author))])],1),e._v(" "),s("p",[e._v("Reviewed by: "),s("b-badge",{attrs:{variant:"dark"}},[e._v(e._s(e.user.data.name))])],1)]),e._v(" "),s("div",{staticClass:"review-add__textarea"},[s("b-form-textarea",{attrs:{id:"textarea",state:e.review.length>=10,placeholder:"Write you're review..",rows:"3","max-rows":"6"},model:{value:e.review,callback:function(t){e.review=t},expression:"review"}}),e._v(" "),s("div",{staticClass:"textarea__buttons"},[s("div",{staticClass:"buttons-cont"},[s("b-button",{attrs:{variant:e.variant},on:{click:function(t){return e.validate()}}},[e._v(e._s(e.button))]),e._v(" "),e.review.length>=10?s("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.submit()}}},[e._v("Submit")]):e._e()],1)])],1)])])},staticRenderFns:[]};var we=s("VU/8")(ge,_e,!1,function(e){s("JrdZ")},null,null).exports,ke=s("bOdI"),Ce=s.n(ke)()({namme:"Reviews",components:{},data:function(){return{reviews:{},review:0,editedReview:"",sliding:null,edited:!1,settings:{lazyLoad:"ondemand",dots:!0,fade:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},text1:"Delete",variant1:"danger",text2:"Edit",variant2:"info",saveEdit:!1}},computed:{},methods:{reverse:function(){this.edited=!this.edited,this.editedReview=""},callApi:function(e){var t=this;return W()(J.a.mark(function s(){var a;return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(console.log("review:",e.reviewId),v.a.put("http://localhost:8000/api/editReview/"+e._id,{id:e._id,bookId:e.bookId,review:t.editedReview}).then(function(e){}),a=0;a<t.reviews.length;a++)t.reviews[a]===e&&(t.reviews[a].review=t.editedReview);t.edited=!1,t.editedReview="";case 5:case"end":return s.stop()}},s,t)}))()},deleteApi:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,v.a.delete("http://localhost:8000/api/review/delete/"+e._id);case 2:s.sent,t.edited=!1,t.editedReview="";case 5:case"end":return s.stop()}},s,t)}))()},generateRoute:function(e){this.$router.push("/review/"+e._id)},generateBookRoute:function(e){this.$router.push("/book/"+this.$route.params.id)},generateAddReview:function(e){this.$router.push("/review/add/"+this.$route.params.id+"/"+this.$route.params.book+"/"+this.$route.params.author)}},mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("http://localhost:8000/api/reviews/"+e.$route.params.id+"/").then(function(t){e.reviews=t.data});case 2:t.sent;case 3:case"end":return t.stop()}},t,e)}))()},props:{default:!0}},"computed",f()({},Object(h.c)({user:"getUser"}))),ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-card",{attrs:{title:e.$route.params.book,"sub-title":e.$route.params.author}},[e._l(e.reviews,function(t,a){return s("b-card",{key:a+t,attrs:{title:"Reviewed by: "+t.username}},[e.edited?e._e():s("p",[e._v(e._s(t.review))]),e._v(" "),t.username==e.user.data.name?s("b-container",[s("router-link",{attrs:{to:"/review/"+e.$route.params.book+"/"+e.$route.params.id+"/"+t._id}},[e._v("Details")])],1):e._e()],1)}),e._v(" "),s("b-button",{staticStyle:{"margin-top":"20px"},attrs:{variant:"dark"},on:{click:function(t){return e.generateBookRoute(e.review)}}},[e._v("Back to Book")]),e._v(" "),s("b-button",{staticStyle:{"margin-top":"20px"},attrs:{variant:"info"},on:{click:function(t){return e.generateAddReview(e.review)}}},[e._v("Add a Review")])],2)},staticRenderFns:[]},xe=s("VU/8")(Ce,ye,!1,null,null,null).exports,Ue={name:"Review",props:{default:!0},data:function(){return{review:{},editedReview:"",edited:!1}},methods:{reverse:function(){this.edited=!this.edited,this.editedReview=""},callApi:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:console.log("review:",e.reviewId),v.a.put("http://localhost:8000/api/editReview/"+e._id,{id:e._id,bookId:e.bookId,review:t.editedReview}).then(function(e){}),t.edited=!1,t.editedReview="",t.$router.push("/book/"+t.$route.params.bookId);case 5:case"end":return s.stop()}},s,t)}))()},deleteApi:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,v.a.delete("http://localhost:8000/api/review/delete/"+e._id);case 2:s.sent,t.edited=!1,t.editedReview="",t.$router.push("/book/"+t.$route.params.bookId);case 6:case"end":return s.stop()}},s,t)}))()},generateBookRoute:function(e){this.$router.push("/book/"+this.$route.params.bookId)}},computed:f()({},Object(h.c)({user:"getUser"})),mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$route.params.id,t.next=3,v.a.get("http://localhost:8000/api/review/"+e.$route.params.id+"/").then(function(t){e.review=t.data});case 3:t.sent;case 4:case"end":return t.stop()}},t,e)}))()}},Be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-card",{attrs:{title:"Review by: "+e.review.book}},[e.edited?e._e():s("p",[e._v(e._s(e.review.review))]),e._v(" "),e.edited?s("b-form-textarea",{attrs:{id:"textarea",state:e.editedReview.length>10,placeholder:"Edit you're review..",rows:"2","max-rows":"6"},model:{value:e.editedReview,callback:function(t){e.editedReview=t},expression:"editedReview"}}):e._e(),e._v(" "),e.review.username==e.user.data.name?s("b-container",[e.edited?s("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.reverse()}}},[e._v("Cancel")]):e._e(),e._v(" "),e.edited?e._e():s("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.deleteApi(e.review)}}},[e._v("Delete")]),e._v(" "),e.edited?e._e():s("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.reverse()}}},[e._v("Edit")]),e._v(" "),e.edited&&e.editedReview.length>10?s("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.callApi(e.review)}}},[e._v("Save")]):e._e(),e._v(" "),e.edited?e._e():s("b-button",{attrs:{variant:"dark"},on:{click:function(t){return e.generateBookRoute(e.review)}}},[e._v("Back to Book")])],1):e._e()],1)},staticRenderFns:[]},$e=s("VU/8")(Ue,Be,!1,null,null,null).exports,Ee={name:"UserTypesListing",data:function(){return{user:JSON.parse(window.localStorage.getItem("user")),toggleButtons:!1,rowId:null,userTypes:null,columns:[{label:"Type of user",field:"userType",tooltip:"Click on a specific row that you want to edit or delete!"},{label:"",field:"actions",sortable:!1,width:"50px"}]}},computed:{typesOfUser:function(){return this.userTypes}},mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserTypes();case 2:case"end":return t.stop()}},t,e)}))()},methods:{onRowClick:function(e){this.user.data.isAdmin&&(this.toggleButtons=!this.toggleButtons,this.rowId=e.row._id)},fetchUserTypes:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=W()(J.a.mark(function t(s){var a;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,v.a.get("http://localhost:8000/api/userTypes");case 3:a=t.sent,e.userTypes=a.data;case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},removeUserType:function(e){var t=this;return W()(J.a.mark(function s(){return J.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(console.log("id",e),!window.confirm("Are you sure you want to delete this book?")){s.next=5;break}return s.next=4,v.a.delete("http://localhost:8000/api/deleteUserType/"+e);case 4:t.toggleButtons=!1;case 5:return s.next=7,t.fetchUserTypes();case 7:case"end":return s.stop()}},s,t)}))()}}},Te={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.toggleButtons?s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-9"},[s("router-link",{attrs:{to:{name:"EditUserType",params:{id:e.rowId}}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Edit User Type")])]),e._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(t){return e.removeUserType(e.rowId)}}},[e._v("Delete User Type")])],1)]):e._e(),e._v(" "),s("div",{staticClass:"mb-3"},[s("router-link",{staticClass:"btn btn-primary",attrs:{type:"submit",to:{path:"insertUserType"}}},[e._v("Insert new user type")])],1),e._v(" "),s("vue-good-table",{attrs:{columns:e.columns,rows:e.typesOfUser,"search-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,perPage:7,perPageDropdown:[5,7,10],dropdownAllowAll:!1}},on:{"on-row-click":e.onRowClick}})],1)},staticRenderFns:[]};var Ne=s("VU/8")(Ee,Te,!1,function(e){s("mHH3")},"data-v-70ad28c2",null).exports,Ie={name:"InsertUserType",data:function(){return{typeUser:""}},methods:{createUserType:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=W()(J.a.mark(function t(s){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,v.a.post("http://localhost:8000/api/createUserType",{userType:e.typeUser});case 3:return e.typeUser=null,t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()}}},Re={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.createUserType.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"userType"}},[e._v("User Type: ")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.typeUser,expression:"typeUser"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{userType:!0,"is-invalid":e.errors.has("userType")},attrs:{type:"text",id:"userType",name:"userType",placeholder:"Insert new user type"},domProps:{value:e.typeUser},on:{input:function(t){t.target.composing||(e.typeUser=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userType"),expression:"errors.has('userType')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("userType")))])])]),e._v(" "),e._m(1)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-5"},[this._v("\n                            Create new user type\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Create")])])])}]};var Ae=s("VU/8")(Ie,Re,!1,function(e){s("9XfX")},"data-v-65dd5f0e",null).exports,Pe={name:"InsertUserType",data:function(){return{typeUser:""}},computed:{userTypeId:function(){return this.$route.params.id}},mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserType();case 2:case"end":return t.stop()}},t,e)}))()},methods:{fetchUserType:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("http://localhost:8000/api/userType/"+e.userTypeId);case 2:s=t.sent,e.typeUser=s.data.userType,console.log(e.typeUser);case 5:case"end":return t.stop()}},t,e)}))()},editUserType:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$validator.validateAll().then(function(){var t=W()(J.a.mark(function t(s){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return t.next=3,v.a.put("http://localhost:8000/api/editUserType/"+e.userTypeId,{_id:e.userTypeId,userType:e.typeUser});case 3:return e.typeUser=null,t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()}}},qe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup_container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8 offset-2"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-block"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.editUserType.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-3 col-md-3 col-lg-3 col-form-label",attrs:{for:"userType"}},[e._v("User Type: ")]),e._v(" "),s("div",{staticClass:"col-sm-9 col-md-9 col-lg-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.typeUser,expression:"typeUser"},{name:"validate",rawName:"v-validate",value:"required|min:2|max:20",expression:"'required|min:2|max:20'"}],staticClass:"form-control form-control-sm",class:{userType:!0,"is-invalid":e.errors.has("userType")},attrs:{type:"text",id:"userType",name:"userType",placeholder:"Insert new user type"},domProps:{value:e.typeUser},on:{input:function(t){t.target.composing||(e.typeUser=t.target.value)}}}),e._v(" "),s("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("userType"),expression:"errors.has('userType')"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first("userType")))])])]),e._v(" "),e._m(1)])])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"offset-5"},[this._v("\n                            Create new user type\n                        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group row"},[t("div",{staticClass:"col-sm-10 offset-sm-0 offset-md-0 offset-md-3"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Save")])])])}]};var Oe=s("VU/8")(Pe,qe,!1,function(e){s("OspU")},"data-v-5cd483f5",null).exports,Se={data:function(){return{categories:{}}},computed:f()({},Object(h.c)({user:"getUser"})),methods:{generateRoute:function(){this.$router.push("/categories/add")}},mounted:function(){var e=this;return W()(J.a.mark(function t(){return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("http://localhost:8000/api/categories").then(function(t){e.categories=t.data});case 2:t.sent;case 3:case"end":return t.stop()}},t,e)}))()}},De={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.categories.length>=1?s("b-container",{staticClass:"categories__container",attrs:{fluid:"md"}},e._l(e.categories,function(t){return s("b-row",{key:t,staticClass:"categories__row"},[s("b-col",{staticClass:"categories__column"},[s("b-card",{staticClass:"categories__card",attrs:{title:t.title}},[s("b-card",{staticStyle:{"margin-bottom":"10px"}},[e._v("\r\n                             "+e._s(t.description)+"\r\n                         ")]),e._v(" "),s("b-button",{attrs:{variant:"dark"}},[e._v("Details")])],1)],1)],1)}),1):s("b-card",{attrs:{title:"There's no categories"}},[s("b-label",[e._v("Please add a category")]),e._v(" "),s("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end"}},[s("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.generateRoute()}}},[e._v("Add a Category")])],1)],1)},staticRenderFns:[]},je=s("VU/8")(Se,De,!1,null,null,null).exports,Fe={data:function(){return{state:!0,title:"",description:""}},methods:{generateCancel:function(){this.$router.push("/categories")},generateCategory:function(){var e=this;return W()(J.a.mark(function t(){var s;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={title:e.title,description:e.description},t.next=3,v.a.post("http://localhost:8000/api/category/add",s).then(function(t){console.log("response:",t),e.$router.push("/categories")});case 3:case"end":return t.stop()}},t,e)}))()}}},Me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-card",{staticClass:"add-categories__container"},[s("div",{staticClass:"add-categories__title"},[s("b-label",[e._v("Category Title")]),e._v(" "),s("b-form-input",{attrs:{state:e.title.length>4,placeholder:"Category title..."},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),s("div",{staticClass:"add-categories__description"},[s("b-label",[e._v("Category Description")]),e._v(" "),s("b-form-textarea",{attrs:{id:"textarea",state:e.description.length>10,placeholder:"Add Description....",rows:"2","max-rows":"6"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),s("div",{staticClass:"add-categories__buttons"},[s("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.generateCancel()}}},[e._v("Cancel")]),e._v(" "),s("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.generateCategory()}}},[e._v("Add")])],1)])},staticRenderFns:[]};var Ve=s("VU/8")(Fe,Me,!1,function(e){s("U/x7")},"data-v-06b14e4b",null).exports,Je=s("mvHQ"),Le=s.n(Je);function We(){return!!localStorage.getItem("user")}function Ye(){return JSON.parse(localStorage.getItem("user"))}function ze(){if(We())return v.a.defaults.headers.common.Authorization="Bearer "+Ye().token}var He=function(e){return e.user},Xe=function(e){return e.users},Ge=function(e,t){var s=e.commit;return v.a.post("http://localhost:8000/api/signup",t).then(function(e){s("storeUser",e.data),window.location.replace("#/")})},Qe=function(e,t){var s=e.commit;return v.a.post("http://localhost:8000/api/editProfile/:id",t).then(function(e){s("storeUser",e.data)})},Ze=function(e,t){e.commit;return v.a.get("http://localhost:8000/api/userProfile/"+t)},Ke=function(e,t){var s=e.commit;return v.a.post("http://localhost:8000/api/signin",t).then(function(e){s("storeUser",e.data),window.location.replace("#/")})},et=function(e){return(0,e.commit)("removeUser"),d.a.resolve()},tt=function(e){var t=e.commit;return v.a.get("http://localhost:8000/api/users").then(function(e){return t("storeUsers",e.data),d.a.resolve(e)})},st=function(e){e.commit;return ze(),v.a.get("http://localhost:8000/api/user/auth")},at=function(e,t){e.user.authenticated=!0,e.user.data=t,function(e){We()||localStorage.setItem("user",Le()(e))}(t)},rt=function(e){e.user.authenticated=!1,e.user.data=null,localStorage.removeItem("user")},ot=function(e,t){e.users=t},it={namespaced:!1,state:{users:null,user:{authenticated:!1,data:null}},getters:a,actions:r,mutations:o},nt=function(e){return e.book},lt=function(e){return e.books},ct=function(e,t){var s=e.commit;return v.a.post("http://localhost:8000/api/createBooks",t).then(function(e){s("storeBook",e.data),window.location.replace("#/")})},ut=function(e){var t=e.commit;return v.a.get("http://localhost:8000/api/books").then(function(e){return t("storeBooks",e.data),console.log(e.data),d.a.resolve(e)})},dt=function(e,t){var s=e.commit;return v.a.put("http://localhost:8000/api/editBook/:id",t).then(function(e){s("storeBook",e.data),window.location.replace("#/books/listing")})},mt=function(e,t){e.commit;return v.a.get("http://localhost:8000/api/books/"+t)},vt=function(e,t){e.book.data=t},pt=function(e,t){e.books=t},ft={namespaced:!1,state:{books:null,book:{data:null}},getters:i,actions:n,mutations:l};c.default.use(h.a);var ht=new h.a.Store({modules:{auth:it,books:ft}}),bt=function(e,t,s){We()?ht.dispatch("authenticateUser").then(function(e){200===e.status?(ht.commit("storeUser",function(){if(We())return Ye().data}()),s()):s("signin")}).catch(function(){s("signin")}):s("signin")},gt=function(e,t,s){We()?s("/"):s()};c.default.use(y.a);var _t=new y.a({routes:[{path:"/",name:"home",component:N,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/signup",name:"signup",component:A,beforeEnter:function(e,t,s){gt(0,0,s)}},{path:"/signin",name:"signin",component:S,beforeEnter:function(e,t,s){gt(0,0,s)}},{path:"/users",name:"users",component:M,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/books",name:"books",component:$,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/books/listing",name:"booksList",component:H,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/books/create",name:"createBooks",component:Q,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/books/editBook/:id",name:"editBook",component:ae,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/book/:id",name:"bookDetails",component:ee,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/contact-us",name:"contactUs",component:ie,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/messages",name:"messages",component:ce,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/editProfile/:id",name:"editprofile",component:fe,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/userProfile/:id",name:"userprofile",component:me,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/review/add/:id/:book/:author",name:"AddReview",component:we,props:!0,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/reviews/:id/:book/:author",name:"Reviews",component:xe,props:!0,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/review/:book/:bookId/:id",name:"Review",component:$e,props:!0,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/userTypes",name:"UserTypes",component:Ne,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/insertUserType",name:"InsertUserType",component:Ae,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/userTypes/editUserType/:id",name:"EditUserType",component:Oe,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"*",name:"notfound",component:be},{path:"/categories",name:"Categories",component:je,beforeEnter:function(e,t,s){bt(0,0,s)}},{path:"/categories/add",name:"AddCategories",component:Ve,beforeEnter:function(e,t,s){bt(0,0,s)}}]}),wt=s("sUu7"),kt=s("o/zv"),Ct=s.n(kt),yt=s("31fY"),xt=(s("gfot"),{getMessage:function(e){return"Such "+e+" already exists."},validate:function(e){return!!e&&v.a.get("http://localhost:8000/api/unique/"+e).then(function(e){return{valid:e.data}})}}),Ut=s("Tqaz");s("Jmt5"),s("9M+g");c.default.use(Ut.a),c.default.use(Ut.b),c.default.use(yt.a),c.default.config.productionTip=!1,c.default.use(wt.a),c.default.use(Ct.a),wt.a.Validator.extend("unique",xt),new c.default({el:"#app",store:ht,router:_t,components:{App:C},template:"<App/>"})},OspU:function(e,t){},QlO3:function(e,t){},TNPM:function(e,t){},"U/x7":function(e,t){},ahrW:function(e,t){},fOhe:function(e,t){},gfot:function(e,t){},iFdD:function(e,t){},mHH3:function(e,t){},mTVW:function(e,t){},nSDm:function(e,t){},xzJt:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.cafe16f7ecb606f69311.js.map